<!DOCTYPE html>
<html>
<head>
  <title>WebSocket Server Example</title>
</head>
<body>
  <h1>WebSocket Server Example</h1>

  <script>
  // THis works with a local websocket server (in c++ running on the esp8266)

    // Create a new WebSocket instance
    const socket = new WebSocket('ws://192.168.8.103:8765');

    // Event listener for when the WebSocket connection is established
    socket.addEventListener('open', (event) => {
      console.log('WebSocket connection established');
    });

    // Event listener for when a message is received from the server
    socket.addEventListener('message', (event) => {
      console.log('Message received from server:', event.data);
    });

    // Event listener for when an error occurs
    socket.addEventListener('error', (event) => {
      console.error('WebSocket error:', event);
    });

    // Event listener for when the WebSocket connection is closed
    socket.addEventListener('close', (event) => {
      console.log('WebSocket connection closed');
    });

    // Function to send a message to the server
    function sendMessage() {
      const message = document.getElementById('messageInput').value;
      socket.send(message);
    }
  </script>

  <input type="text" id="messageInput" placeholder="Enter a message">
  <button onclick="sendMessage()">Send</button>
</body>
</html>
